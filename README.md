# Тестовое задание
Простое REST приложение для отправки и сохранения сообщений пользователей

## Описание эндпоинтов
Для каждого эндпоинта в качестве Http-метода предусмотрен только __POST__
_/register_ - эндпоинт для регистрации нового пользователя, получает на вход данные json формата:
```
    {
        name: "имя отправителя"
        password: "пароль" 
    }
```
В качестве ответа приходит json формата:
```
    {
        token: "тут сгенерированный токен"
    }
```

_/login_ - эндпоинт для логинации существующего пользователя, получает на вход данные json формата:
```
    {
        name: "имя отправителя"
        password: "пароль" 
    }
```
В качестве ответа приходит json формата:
```
    {
        token: "тут сгенерированный токен"
    }
```

_/message_ - эндпоинт для работы с сообщениями пользователей. Принимает на вход данные json в формате:
```
    {
        name: "имя отправителя"
        message: "сообщение пльзователя" 
    }
```
Для корректной работы требуется передать заголовок Authorization, содержащий токен пользователя в виде `Bearer_*token*`, где *token* это непосредственно токен пользователя, полученный в двух предыдущих эндпоинтах.
Если поле message имеет вид `history <N>`, где __N__ это количество запрашваемых сообщений, то в качестве ответа приходит список последних N сообщений на сервере.
Иначе это рассматривается как новое сообщение и сохраняется в БД. В качестве ответа в таком случае приходит json с данными о сохраненном сообщении в виде:
```
    {
        "author": "имя отправителя",
        "created_at": "дата и время отправки",
        "id": "id сообщения",
        "text": "сообщение пользователя"
        }
```

## Установка
Для установки требуется в корне каталога выполнить:
`docker-compose up -d`
Запросы к серверу будут доступны по url `localhost:8000/`

Для тестирования приложен файл, содержащий cURL запросы к серверу
